\hypertarget{classDataBase}{}\doxysection{Класс Data\+Base}
\label{classDataBase}\index{DataBase@{DataBase}}
Граф наследования\+:Data\+Base\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classDataBase}
\end{center}
\end{figure}
\doxysubsection*{Открытые члены}
\begin{DoxyCompactItemize}
\item 
string \mbox{\hyperlink{classDataBase_acf0a1b063b80461d3a31a8dabe3c134e}{Get\+Token}} ()
\begin{DoxyCompactList}\small\item\em Метод возвращает токен из БД  \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classDataBase_a7bef2659955658a824e1596b4ad77b66}{Set\+Token}} (string token)
\begin{DoxyCompactList}\small\item\em Метод записывает новый токен в БД  \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classDataBase_a450c0fac9fd208af1375860dc1cf0a19}{Exist\+Keybind}} (string name)
\item 
void \mbox{\hyperlink{classDataBase_a0dd608c105678b675ea5b0bedc2c310e}{Add\+Keybind}} (string name, Key\+Code key, string category)
\item 
void \mbox{\hyperlink{classDataBase_a91560920c846a220ec4edc82d4dbdf01}{Set\+Keybind}} (string name, Key\+Code key)
\item 
List$<$ \mbox{\hyperlink{classKeybind}{Keybind}} $>$ \mbox{\hyperlink{classDataBase_a4d8e085b8b63788756569e0807c0f88d}{Get\+Keybinds}} ()
\item 
void \mbox{\hyperlink{classDataBase_a26e33405ce8c01dec9048271c11b4e84}{Add\+Setting}} (string name, string value)
\item 
bool \mbox{\hyperlink{classDataBase_abc167e8f4dc24057cca4aa0793349d92}{Exist\+Setting}} (string name)
\item 
void \mbox{\hyperlink{classDataBase_aff4aec31a57c9de6de40636925da3c83}{Set\+Setting}} (string name, string value)
\item 
List$<$ \mbox{\hyperlink{classSetting}{Setting}} $>$ \mbox{\hyperlink{classDataBase_a6542d0b7f33665d7ee23c4c93f3316e2}{Get\+Settings}} ()
\end{DoxyCompactItemize}


\doxysubsection{Подробное описание}


См. определение в файле \mbox{\hyperlink{DataBase_8cs_source}{Data\+Base.\+cs}} строка \mbox{\hyperlink{DataBase_8cs_source_l00007}{7}}



\doxysubsection{Методы}
\mbox{\Hypertarget{classDataBase_a0dd608c105678b675ea5b0bedc2c310e}\label{classDataBase_a0dd608c105678b675ea5b0bedc2c310e}} 
\index{DataBase@{DataBase}!AddKeybind@{AddKeybind}}
\index{AddKeybind@{AddKeybind}!DataBase@{DataBase}}
\doxysubsubsection{\texorpdfstring{AddKeybind()}{AddKeybind()}}
{\footnotesize\ttfamily void Data\+Base.\+Add\+Keybind (\begin{DoxyParamCaption}\item[{string}]{name,  }\item[{Key\+Code}]{key,  }\item[{string}]{category }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



См. определение в файле \mbox{\hyperlink{DataBase_8cs_source}{Data\+Base.\+cs}} строка \mbox{\hyperlink{DataBase_8cs_source_l00176}{176}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00177     \{}
\DoxyCodeLine{00178         OpenConnection();}
\DoxyCodeLine{00179         \_command.CommandText = \textcolor{stringliteral}{"{}INSERT INTO keybinds (name, keybind, category) VALUES ('"{}} + name + \textcolor{stringliteral}{"{}', '"{}} + key.ToString() + \textcolor{stringliteral}{"{}', '"{}} + category + \textcolor{stringliteral}{"{}');"{}};}
\DoxyCodeLine{00180         \_command.ExecuteNonQuery();}
\DoxyCodeLine{00181         CloseConnection();}
\DoxyCodeLine{00182     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classDataBase_a26e33405ce8c01dec9048271c11b4e84}\label{classDataBase_a26e33405ce8c01dec9048271c11b4e84}} 
\index{DataBase@{DataBase}!AddSetting@{AddSetting}}
\index{AddSetting@{AddSetting}!DataBase@{DataBase}}
\doxysubsubsection{\texorpdfstring{AddSetting()}{AddSetting()}}
{\footnotesize\ttfamily void Data\+Base.\+Add\+Setting (\begin{DoxyParamCaption}\item[{string}]{name,  }\item[{string}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



См. определение в файле \mbox{\hyperlink{DataBase_8cs_source}{Data\+Base.\+cs}} строка \mbox{\hyperlink{DataBase_8cs_source_l00205}{205}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00206     \{}
\DoxyCodeLine{00207         OpenConnection();}
\DoxyCodeLine{00208         \_command.CommandText = \textcolor{stringliteral}{"{}INSERT INTO settings (name, value) VALUES ('"{}} + name + \textcolor{stringliteral}{"{}', '"{}} + value + \textcolor{stringliteral}{"{}');"{}};}
\DoxyCodeLine{00209         \_command.ExecuteNonQuery();}
\DoxyCodeLine{00210         CloseConnection();}
\DoxyCodeLine{00211     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classDataBase_a450c0fac9fd208af1375860dc1cf0a19}\label{classDataBase_a450c0fac9fd208af1375860dc1cf0a19}} 
\index{DataBase@{DataBase}!ExistKeybind@{ExistKeybind}}
\index{ExistKeybind@{ExistKeybind}!DataBase@{DataBase}}
\doxysubsubsection{\texorpdfstring{ExistKeybind()}{ExistKeybind()}}
{\footnotesize\ttfamily bool Data\+Base.\+Exist\+Keybind (\begin{DoxyParamCaption}\item[{string}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



См. определение в файле \mbox{\hyperlink{DataBase_8cs_source}{Data\+Base.\+cs}} строка \mbox{\hyperlink{DataBase_8cs_source_l00161}{161}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00162     \{}
\DoxyCodeLine{00163         OpenConnection();}
\DoxyCodeLine{00164         \_command.CommandText = \textcolor{stringliteral}{"{}SELECT * from keybinds WHERE name ='"{}} + name + \textcolor{stringliteral}{"{}';"{}};}
\DoxyCodeLine{00165         \_reader = \_command.ExecuteReader();}
\DoxyCodeLine{00166         \textcolor{keywordflow}{if} (\_reader.Read())}
\DoxyCodeLine{00167         \{}
\DoxyCodeLine{00168             CloseConnection();}
\DoxyCodeLine{00169             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00170         \}}
\DoxyCodeLine{00171         CloseConnection();}
\DoxyCodeLine{00172         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00173         }
\DoxyCodeLine{00174     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classDataBase_abc167e8f4dc24057cca4aa0793349d92}\label{classDataBase_abc167e8f4dc24057cca4aa0793349d92}} 
\index{DataBase@{DataBase}!ExistSetting@{ExistSetting}}
\index{ExistSetting@{ExistSetting}!DataBase@{DataBase}}
\doxysubsubsection{\texorpdfstring{ExistSetting()}{ExistSetting()}}
{\footnotesize\ttfamily bool Data\+Base.\+Exist\+Setting (\begin{DoxyParamCaption}\item[{string}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



См. определение в файле \mbox{\hyperlink{DataBase_8cs_source}{Data\+Base.\+cs}} строка \mbox{\hyperlink{DataBase_8cs_source_l00213}{213}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00214     \{}
\DoxyCodeLine{00215         OpenConnection();}
\DoxyCodeLine{00216         \_command.CommandText = \textcolor{stringliteral}{"{}SELECT * from settings WHERE name ='"{}} + name + \textcolor{stringliteral}{"{}';"{}};}
\DoxyCodeLine{00217         \_reader = \_command.ExecuteReader();}
\DoxyCodeLine{00218         \textcolor{keywordflow}{if} (\_reader.Read())}
\DoxyCodeLine{00219         \{}
\DoxyCodeLine{00220             CloseConnection();}
\DoxyCodeLine{00221             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00222         \}}
\DoxyCodeLine{00223         CloseConnection();}
\DoxyCodeLine{00224         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00225     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classDataBase_a4d8e085b8b63788756569e0807c0f88d}\label{classDataBase_a4d8e085b8b63788756569e0807c0f88d}} 
\index{DataBase@{DataBase}!GetKeybinds@{GetKeybinds}}
\index{GetKeybinds@{GetKeybinds}!DataBase@{DataBase}}
\doxysubsubsection{\texorpdfstring{GetKeybinds()}{GetKeybinds()}}
{\footnotesize\ttfamily List$<$ \mbox{\hyperlink{classKeybind}{Keybind}} $>$ Data\+Base.\+Get\+Keybinds (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



См. определение в файле \mbox{\hyperlink{DataBase_8cs_source}{Data\+Base.\+cs}} строка \mbox{\hyperlink{DataBase_8cs_source_l00191}{191}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00192     \{}
\DoxyCodeLine{00193         List<Keybind> keybinds = \textcolor{keyword}{new} List<Keybind>();}
\DoxyCodeLine{00194         OpenConnection();}
\DoxyCodeLine{00195         \_command.CommandText = \textcolor{stringliteral}{"{}SELECT * from keybinds"{}};}
\DoxyCodeLine{00196         \_reader = \_command.ExecuteReader();}
\DoxyCodeLine{00197         \textcolor{keywordflow}{while} (\_reader.Read())}
\DoxyCodeLine{00198         \{}
\DoxyCodeLine{00199             keybinds.Add(\textcolor{keyword}{new} \mbox{\hyperlink{classKeybind}{Keybind}}(\_reader[\textcolor{stringliteral}{"{}name"{}}].ToString(), \_reader[\textcolor{stringliteral}{"{}keybind"{}}].ToString(), \_reader[\textcolor{stringliteral}{"{}category"{}}].ToString()));}
\DoxyCodeLine{00200         \}}
\DoxyCodeLine{00201         CloseConnection();}
\DoxyCodeLine{00202         \textcolor{keywordflow}{return} keybinds;}
\DoxyCodeLine{00203     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classDataBase_a6542d0b7f33665d7ee23c4c93f3316e2}\label{classDataBase_a6542d0b7f33665d7ee23c4c93f3316e2}} 
\index{DataBase@{DataBase}!GetSettings@{GetSettings}}
\index{GetSettings@{GetSettings}!DataBase@{DataBase}}
\doxysubsubsection{\texorpdfstring{GetSettings()}{GetSettings()}}
{\footnotesize\ttfamily List$<$ \mbox{\hyperlink{classSetting}{Setting}} $>$ Data\+Base.\+Get\+Settings (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



См. определение в файле \mbox{\hyperlink{DataBase_8cs_source}{Data\+Base.\+cs}} строка \mbox{\hyperlink{DataBase_8cs_source_l00236}{236}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00237     \{}
\DoxyCodeLine{00238         List<Setting> keybinds = \textcolor{keyword}{new} List<Setting>();}
\DoxyCodeLine{00239         OpenConnection();}
\DoxyCodeLine{00240         \_command.CommandText = \textcolor{stringliteral}{"{}SELECT * from settings"{}};}
\DoxyCodeLine{00241         \_reader = \_command.ExecuteReader();}
\DoxyCodeLine{00242         \textcolor{keywordflow}{while} (\_reader.Read())}
\DoxyCodeLine{00243         \{}
\DoxyCodeLine{00244             keybinds.Add(\textcolor{keyword}{new} \mbox{\hyperlink{classSetting}{Setting}}(\_reader[\textcolor{stringliteral}{"{}name"{}}].ToString(), \_reader[\textcolor{stringliteral}{"{}value"{}}].ToString()));}
\DoxyCodeLine{00245         \}}
\DoxyCodeLine{00246         CloseConnection();}
\DoxyCodeLine{00247         \textcolor{keywordflow}{return} keybinds;  }
\DoxyCodeLine{00248     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classDataBase_acf0a1b063b80461d3a31a8dabe3c134e}\label{classDataBase_acf0a1b063b80461d3a31a8dabe3c134e}} 
\index{DataBase@{DataBase}!GetToken@{GetToken}}
\index{GetToken@{GetToken}!DataBase@{DataBase}}
\doxysubsubsection{\texorpdfstring{GetToken()}{GetToken()}}
{\footnotesize\ttfamily string Data\+Base.\+Get\+Token (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Метод возвращает токен из БД  

\begin{DoxyReturn}{Возвращает}
токен
\end{DoxyReturn}


См. определение в файле \mbox{\hyperlink{DataBase_8cs_source}{Data\+Base.\+cs}} строка \mbox{\hyperlink{DataBase_8cs_source_l00115}{115}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00116     \{}
\DoxyCodeLine{00117         \textcolor{keywordtype}{string} token = \textcolor{stringliteral}{"{}None"{}};}
\DoxyCodeLine{00118         \textcolor{keywordflow}{if} (TokenInDB())}
\DoxyCodeLine{00119         \{}
\DoxyCodeLine{00120             OpenConnection();}
\DoxyCodeLine{00121             \_command.CommandText = \textcolor{stringliteral}{"{}SELECT * FROM token WHERE id=1"{}};}
\DoxyCodeLine{00122             \_reader = \_command.ExecuteReader();}
\DoxyCodeLine{00123             \textcolor{keywordflow}{while} (\_reader.Read())}
\DoxyCodeLine{00124             \{}
\DoxyCodeLine{00125                 token = \_reader[\textcolor{stringliteral}{"{}token"{}}].ToString();}
\DoxyCodeLine{00126             \}}
\DoxyCodeLine{00127 }
\DoxyCodeLine{00128             CloseConnection();}
\DoxyCodeLine{00129         \}}
\DoxyCodeLine{00130 }
\DoxyCodeLine{00131         \textcolor{keywordflow}{if} (token == \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{00132         \{}
\DoxyCodeLine{00133             token = \textcolor{stringliteral}{"{}None"{}};}
\DoxyCodeLine{00134         \}}
\DoxyCodeLine{00135 }
\DoxyCodeLine{00136         \textcolor{keywordflow}{return} token;}
\DoxyCodeLine{00137     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classDataBase_a91560920c846a220ec4edc82d4dbdf01}\label{classDataBase_a91560920c846a220ec4edc82d4dbdf01}} 
\index{DataBase@{DataBase}!SetKeybind@{SetKeybind}}
\index{SetKeybind@{SetKeybind}!DataBase@{DataBase}}
\doxysubsubsection{\texorpdfstring{SetKeybind()}{SetKeybind()}}
{\footnotesize\ttfamily void Data\+Base.\+Set\+Keybind (\begin{DoxyParamCaption}\item[{string}]{name,  }\item[{Key\+Code}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



См. определение в файле \mbox{\hyperlink{DataBase_8cs_source}{Data\+Base.\+cs}} строка \mbox{\hyperlink{DataBase_8cs_source_l00183}{183}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00184     \{}
\DoxyCodeLine{00185         \textcolor{keywordflow}{if} (!ExistKeybind(name)) \{ \textcolor{keywordflow}{return}; \}}
\DoxyCodeLine{00186         OpenConnection();}
\DoxyCodeLine{00187         \_command.CommandText = \textcolor{stringliteral}{"{}UPDATE keybinds SET keybind  = '"{}} + key.ToString() + \textcolor{stringliteral}{"{}' WHERE name ='"{}} + name + \textcolor{stringliteral}{"{}';"{}};}
\DoxyCodeLine{00188         \_command.ExecuteNonQuery();}
\DoxyCodeLine{00189         CloseConnection();}
\DoxyCodeLine{00190     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classDataBase_aff4aec31a57c9de6de40636925da3c83}\label{classDataBase_aff4aec31a57c9de6de40636925da3c83}} 
\index{DataBase@{DataBase}!SetSetting@{SetSetting}}
\index{SetSetting@{SetSetting}!DataBase@{DataBase}}
\doxysubsubsection{\texorpdfstring{SetSetting()}{SetSetting()}}
{\footnotesize\ttfamily void Data\+Base.\+Set\+Setting (\begin{DoxyParamCaption}\item[{string}]{name,  }\item[{string}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



См. определение в файле \mbox{\hyperlink{DataBase_8cs_source}{Data\+Base.\+cs}} строка \mbox{\hyperlink{DataBase_8cs_source_l00227}{227}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00228     \{}
\DoxyCodeLine{00229         \textcolor{keywordflow}{if} (!ExistSetting(name)) \{ \textcolor{keywordflow}{return}; \}}
\DoxyCodeLine{00230         OpenConnection();}
\DoxyCodeLine{00231         \_command.CommandText = \textcolor{stringliteral}{"{}UPDATE settings SET value  = '"{}} + value + \textcolor{stringliteral}{"{}' WHERE name ='"{}} + name + \textcolor{stringliteral}{"{}';"{}};}
\DoxyCodeLine{00232         \_command.ExecuteNonQuery();}
\DoxyCodeLine{00233         CloseConnection();}
\DoxyCodeLine{00234     \}}

\end{DoxyCode}
\mbox{\Hypertarget{classDataBase_a7bef2659955658a824e1596b4ad77b66}\label{classDataBase_a7bef2659955658a824e1596b4ad77b66}} 
\index{DataBase@{DataBase}!SetToken@{SetToken}}
\index{SetToken@{SetToken}!DataBase@{DataBase}}
\doxysubsubsection{\texorpdfstring{SetToken()}{SetToken()}}
{\footnotesize\ttfamily void Data\+Base.\+Set\+Token (\begin{DoxyParamCaption}\item[{string}]{token }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Метод записывает новый токен в БД  


\begin{DoxyParams}{Аргументы}
{\em token} & новый токен\\
\hline
\end{DoxyParams}


См. определение в файле \mbox{\hyperlink{DataBase_8cs_source}{Data\+Base.\+cs}} строка \mbox{\hyperlink{DataBase_8cs_source_l00143}{143}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00144     \{}
\DoxyCodeLine{00145         \textcolor{keywordflow}{if} (TokenInDB())}
\DoxyCodeLine{00146         \{}
\DoxyCodeLine{00147             OpenConnection();}
\DoxyCodeLine{00148             \_command.CommandText = \textcolor{stringliteral}{"{}UPDATE token SET token = '"{}} + token + \textcolor{stringliteral}{"{}' WHERE id =1;"{}};}
\DoxyCodeLine{00149             \_command.ExecuteNonQuery();}
\DoxyCodeLine{00150             CloseConnection();}
\DoxyCodeLine{00151         \}}
\DoxyCodeLine{00152         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00153         \{}
\DoxyCodeLine{00154             OpenConnection();}
\DoxyCodeLine{00155             \_command.CommandText = \textcolor{stringliteral}{"{}INSERT INTO token (token) VALUES ('"{}} + token + \textcolor{stringliteral}{"{}');"{}};}
\DoxyCodeLine{00156             \_command.ExecuteNonQuery();}
\DoxyCodeLine{00157             CloseConnection();}
\DoxyCodeLine{00158         \}}
\DoxyCodeLine{00159     \}}

\end{DoxyCode}


Объявления и описания членов класса находятся в файле\+:\begin{DoxyCompactItemize}
\item 
Vuji/\+Assets/\+Scripts/Data\+Base.\+cs\end{DoxyCompactItemize}
