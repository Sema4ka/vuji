\hypertarget{DataBase_8cs_source}{}\doxysection{Data\+Base.\+cs}
\label{DataBase_8cs_source}\index{Vuji/Assets/Scripts/DataBase.cs@{Vuji/Assets/Scripts/DataBase.cs}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00001}00001 \textcolor{keyword}{using }System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00002}00002 \textcolor{keyword}{using }System.Data;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00003}00003 \textcolor{keyword}{using }UnityEngine;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00004}00004 \textcolor{keyword}{using }Mono.Data.Sqlite;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00009}\mbox{\hyperlink{classDataBase}{00009}} \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{classDataBase}{DataBase}} : MonoBehaviour}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00010}00010 \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00011}00011     \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{string} dbName = \textcolor{stringliteral}{"{}URI=file:VujiDB.db"{}}; \textcolor{comment}{// Путь к файлу бд}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00012}00012     \textcolor{keyword}{private} \textcolor{keyword}{static} SqliteConnection \_connection; \textcolor{comment}{// Вспомогательное поле для хранения сессии}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00013}00013     \textcolor{keyword}{private} \textcolor{keyword}{static} SqliteCommand \_command; \textcolor{comment}{// Вспомогательное поле для хранения команды (запроса) SQL}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00014}00014     \textcolor{keyword}{private} \textcolor{keyword}{static} IDataReader \_reader; \textcolor{comment}{// Вспомогательное поля для чтеня даннных }}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00016}00016 \textcolor{preprocessor}{    \#region Unity Methods}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00018}00018     \textcolor{keywordtype}{void} Start()}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00019}00019     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00020}00020         CreateDB();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00021}00021     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00023}00023 \textcolor{preprocessor}{    \#endregion}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00025}00025 \textcolor{preprocessor}{    \#region Private Methods}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00030}00030     \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{void} OpenConnection()}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00031}00031     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00032}00032         \_connection = \textcolor{keyword}{new} SqliteConnection(dbName);}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00033}00033         \_command = \textcolor{keyword}{new} SqliteCommand(\_connection);}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00034}00034         \_connection.Open();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00035}00035     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00040}00040     \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{void} CloseConnection()}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00041}00041     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00042}00042         \_connection.Close();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00043}00043         \_command.Dispose();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00044}00044     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00049}00049     \textcolor{keyword}{private} \textcolor{keywordtype}{void} CreateDB()}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00050}00050     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00051}00051         OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00052}00052         \_command.CommandText = \textcolor{stringliteral}{@"{}PRAGMA foreign\_keys=OFF;}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00053}00053 \textcolor{stringliteral}{                                BEGIN TRANSACTION;}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00054}00054 \textcolor{stringliteral}{                                CREATE TABLE token (id INTEGER, token STRING, PRIMARY KEY (id));}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00055}00055 \textcolor{stringliteral}{                                CREATE TABLE keybinds (id INTEGER, name STRING, keybind STRING, category STRING, PRIMARY KEY (id));}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00056}00056 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(1,'EscapeMenu','Escape','UI');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00057}00057 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(2,'Right','D','Movement');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00058}00058 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(3,'Left','A','Movement');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00059}00059 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(4,'Forward','W','Movement');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00060}00060 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(5,'Backward','S','Movement');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00061}00061 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(6,'Attack','Space','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00062}00062 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(7,'Use Skill','Mouse0','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00063}00063 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(8,'Skill 1','Q','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00064}00064 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(9,'Skill 2','E','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00065}00065 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(10,'Slot 1','Alpha1','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00066}00066 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(11,'Slot 2','Alpha2','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00067}00067 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(13,'Slot 3','Alpha3','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00068}00068 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(14,'Slot 4','Alpha4','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00069}00069 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(15,'Slot 5','Alpha5','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00070}00070 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(16,'Slot 6','Alpha6','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00071}00071 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(17,'Slot 7','Alpha7','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00072}00072 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(18,'Slot 8','Alpha8','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00073}00073 \textcolor{stringliteral}{                                INSERT INTO keybinds VALUES(19,'Slot 9','Alpha9','Ability');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00074}00074 \textcolor{stringliteral}{                                CREATE TABLE settings (id INTEGER, name STRING, value STRING, PRIMARY KEY (id));}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00075}00075 \textcolor{stringliteral}{                                INSERT INTO settings VALUES(1,'FPS',359);}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00076}00076 \textcolor{stringliteral}{                                INSERT INTO settings VALUES(2,'VSync','True');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00077}00077 \textcolor{stringliteral}{                                INSERT INTO settings VALUES(3,'Resolution',2);}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00078}00078 \textcolor{stringliteral}{                                INSERT INTO settings VALUES(4,'Fullscreen','False');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00079}00079 \textcolor{stringliteral}{                                INSERT INTO settings VALUES(5,'General volume','1');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00080}00080 \textcolor{stringliteral}{                                INSERT INTO settings VALUES(6,'Music volume','1');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00081}00081 \textcolor{stringliteral}{                                INSERT INTO settings VALUES(7,'Environment volume','1');}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00082}00082 \textcolor{stringliteral}{                                COMMIT;}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00083}00083 \textcolor{stringliteral}{"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00084}00084         \_command.ExecuteNonQuery();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00085}00085         CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00086}00086     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00087}00087 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00092}00092     \textcolor{keyword}{private} \textcolor{keywordtype}{bool} TokenInDB()}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00093}00093     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00094}00094         OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00095}00095         \_command.CommandText = \textcolor{stringliteral}{"{}SELECT * FROM token WHERE EXISTS (SELECT id FROM token WHERE id = 1)"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00096}00096         \_reader = \_command.ExecuteReader();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00097}00097         \textcolor{keywordflow}{if} (\_reader.Read())}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00098}00098         \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00099}00099             CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00100}00100             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00101}00101         \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00102}00102         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00103}00103         \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00104}00104             CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00105}00105             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00106}00106         \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00107}00107     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00108}00108 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00109}00109 \textcolor{preprocessor}{    \#endregion}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00110}00110 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00111}00111 \textcolor{preprocessor}{    \#region Public Methods}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00112}00112 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00117}\mbox{\hyperlink{classDataBase_acf0a1b063b80461d3a31a8dabe3c134e}{00117}}     \textcolor{keyword}{public} \textcolor{keywordtype}{string} \mbox{\hyperlink{classDataBase_acf0a1b063b80461d3a31a8dabe3c134e}{GetToken}}()}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00118}00118     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00119}00119         \textcolor{keywordtype}{string} token = \textcolor{stringliteral}{"{}None"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00120}00120         \textcolor{keywordflow}{if} (TokenInDB())}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00121}00121         \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00122}00122             OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00123}00123             \_command.CommandText = \textcolor{stringliteral}{"{}SELECT * FROM token WHERE id=1"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00124}00124             \_reader = \_command.ExecuteReader();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00125}00125             \textcolor{keywordflow}{while} (\_reader.Read())}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00126}00126             \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00127}00127                 token = \_reader[\textcolor{stringliteral}{"{}token"{}}].ToString();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00128}00128             \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00129}00129 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00130}00130             CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00131}00131         \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00132}00132 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00133}00133         \textcolor{keywordflow}{if} (token == \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00134}00134         \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00135}00135             token = \textcolor{stringliteral}{"{}None"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00136}00136         \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00137}00137 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00138}00138         \textcolor{keywordflow}{return} token;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00139}00139     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00140}00140 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00145}\mbox{\hyperlink{classDataBase_a7bef2659955658a824e1596b4ad77b66}{00145}}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{classDataBase_a7bef2659955658a824e1596b4ad77b66}{SetToken}}(\textcolor{keywordtype}{string} token)}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00146}00146     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00147}00147         \textcolor{keywordflow}{if} (TokenInDB())}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00148}00148         \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00149}00149             OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00150}00150             \_command.CommandText = \textcolor{stringliteral}{"{}UPDATE token SET token = '"{}} + token + \textcolor{stringliteral}{"{}' WHERE id =1;"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00151}00151             \_command.ExecuteNonQuery();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00152}00152             CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00153}00153         \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00154}00154         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00155}00155         \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00156}00156             OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00157}00157             \_command.CommandText = \textcolor{stringliteral}{"{}INSERT INTO token (token) VALUES ('"{}} + token + \textcolor{stringliteral}{"{}');"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00158}00158             \_command.ExecuteNonQuery();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00159}00159             CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00160}00160         \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00161}00161     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00167}\mbox{\hyperlink{classDataBase_a450c0fac9fd208af1375860dc1cf0a19}{00167}}     \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classDataBase_a450c0fac9fd208af1375860dc1cf0a19}{ExistKeybind}}(\textcolor{keywordtype}{string} name)}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00168}00168     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00169}00169         OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00170}00170         \_command.CommandText = \textcolor{stringliteral}{"{}SELECT * from keybinds WHERE name ='"{}} + name + \textcolor{stringliteral}{"{}';"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00171}00171         \_reader = \_command.ExecuteReader();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00172}00172         \textcolor{keywordflow}{if} (\_reader.Read())}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00173}00173         \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00174}00174             CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00175}00175             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00176}00176         \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00177}00177         CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00178}00178         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00179}00179 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00180}00180     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00187}\mbox{\hyperlink{classDataBase_a0dd608c105678b675ea5b0bedc2c310e}{00187}}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{classDataBase_a0dd608c105678b675ea5b0bedc2c310e}{AddKeybind}}(\textcolor{keywordtype}{string} name, KeyCode key, \textcolor{keywordtype}{string} category)}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00188}00188     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00189}00189         OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00190}00190         \_command.CommandText = \textcolor{stringliteral}{"{}INSERT INTO keybinds (name, keybind, category) VALUES ('"{}} + name + \textcolor{stringliteral}{"{}', '"{}} + key.ToString() + \textcolor{stringliteral}{"{}', '"{}} + category + \textcolor{stringliteral}{"{}');"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00191}00191         \_command.ExecuteNonQuery();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00192}00192         CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00193}00193     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00199}\mbox{\hyperlink{classDataBase_a91560920c846a220ec4edc82d4dbdf01}{00199}}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{classDataBase_a91560920c846a220ec4edc82d4dbdf01}{SetKeybind}}(\textcolor{keywordtype}{string} name, KeyCode key)}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00200}00200     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00201}00201         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classDataBase_a450c0fac9fd208af1375860dc1cf0a19}{ExistKeybind}}(name)) \{ \textcolor{keywordflow}{return}; \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00202}00202         OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00203}00203         \_command.CommandText = \textcolor{stringliteral}{"{}UPDATE keybinds SET keybind  = '"{}} + key.ToString() + \textcolor{stringliteral}{"{}' WHERE name ='"{}} + name + \textcolor{stringliteral}{"{}';"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00204}00204         \_command.ExecuteNonQuery();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00205}00205         CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00206}00206     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00211}\mbox{\hyperlink{classDataBase_a4d8e085b8b63788756569e0807c0f88d}{00211}}     \textcolor{keyword}{public} List<Keybind> \mbox{\hyperlink{classDataBase_a4d8e085b8b63788756569e0807c0f88d}{GetKeybinds}}()}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00212}00212     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00213}00213         List<Keybind> keybinds = \textcolor{keyword}{new} List<Keybind>();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00214}00214         OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00215}00215         \_command.CommandText = \textcolor{stringliteral}{"{}SELECT * from keybinds"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00216}00216         \_reader = \_command.ExecuteReader();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00217}00217         \textcolor{keywordflow}{while} (\_reader.Read())}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00218}00218         \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00219}00219             keybinds.Add(\textcolor{keyword}{new} \mbox{\hyperlink{classKeybind}{Keybind}}(\_reader[\textcolor{stringliteral}{"{}name"{}}].ToString(), \_reader[\textcolor{stringliteral}{"{}keybind"{}}].ToString(), \_reader[\textcolor{stringliteral}{"{}category"{}}].ToString()));}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00220}00220         \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00221}00221         CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00222}00222         \textcolor{keywordflow}{return} keybinds;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00223}00223     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00229}\mbox{\hyperlink{classDataBase_a26e33405ce8c01dec9048271c11b4e84}{00229}}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{classDataBase_a26e33405ce8c01dec9048271c11b4e84}{AddSetting}}(\textcolor{keywordtype}{string} name, \textcolor{keywordtype}{string} value)}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00230}00230     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00231}00231         OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00232}00232         \_command.CommandText = \textcolor{stringliteral}{"{}INSERT INTO settings (name, value) VALUES ('"{}} + name + \textcolor{stringliteral}{"{}', '"{}} + value + \textcolor{stringliteral}{"{}');"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00233}00233         \_command.ExecuteNonQuery();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00234}00234         CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00235}00235     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00241}\mbox{\hyperlink{classDataBase_abc167e8f4dc24057cca4aa0793349d92}{00241}}     \textcolor{keyword}{public} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classDataBase_abc167e8f4dc24057cca4aa0793349d92}{ExistSetting}}(\textcolor{keywordtype}{string} name)}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00242}00242     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00243}00243         OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00244}00244         \_command.CommandText = \textcolor{stringliteral}{"{}SELECT * from settings WHERE name ='"{}} + name + \textcolor{stringliteral}{"{}';"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00245}00245         \_reader = \_command.ExecuteReader();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00246}00246         \textcolor{keywordflow}{if} (\_reader.Read())}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00247}00247         \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00248}00248             CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00249}00249             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00250}00250         \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00251}00251         CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00252}00252         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00253}00253     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00259}\mbox{\hyperlink{classDataBase_aff4aec31a57c9de6de40636925da3c83}{00259}}     \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{classDataBase_aff4aec31a57c9de6de40636925da3c83}{SetSetting}}(\textcolor{keywordtype}{string} name, \textcolor{keywordtype}{string} value)}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00260}00260     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00261}00261         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classDataBase_abc167e8f4dc24057cca4aa0793349d92}{ExistSetting}}(name)) \{ \textcolor{keywordflow}{return}; \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00262}00262         OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00263}00263         \_command.CommandText = \textcolor{stringliteral}{"{}UPDATE settings SET value  = '"{}} + value + \textcolor{stringliteral}{"{}' WHERE name ='"{}} + name + \textcolor{stringliteral}{"{}';"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00264}00264         \_command.ExecuteNonQuery();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00265}00265         CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00266}00266     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00271}\mbox{\hyperlink{classDataBase_a6542d0b7f33665d7ee23c4c93f3316e2}{00271}}     \textcolor{keyword}{public} List<Setting> \mbox{\hyperlink{classDataBase_a6542d0b7f33665d7ee23c4c93f3316e2}{GetSettings}}()}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00272}00272     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00273}00273         List<Setting> keybinds = \textcolor{keyword}{new} List<Setting>();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00274}00274         OpenConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00275}00275         \_command.CommandText = \textcolor{stringliteral}{"{}SELECT * from settings"{}};}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00276}00276         \_reader = \_command.ExecuteReader();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00277}00277         \textcolor{keywordflow}{while} (\_reader.Read())}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00278}00278         \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00279}00279             keybinds.Add(\textcolor{keyword}{new} \mbox{\hyperlink{classSetting}{Setting}}(\_reader[\textcolor{stringliteral}{"{}name"{}}].ToString(), \_reader[\textcolor{stringliteral}{"{}value"{}}].ToString()));}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00280}00280         \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00281}00281         CloseConnection();}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00282}00282         \textcolor{keywordflow}{return} keybinds;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00283}00283     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00284}00284 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00285}00285 \textcolor{preprocessor}{    \#endregion}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00286}00286 \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00287}00287 }
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00291}\mbox{\hyperlink{classKeybind}{00291}} \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{classKeybind}{Keybind}}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00292}00292 \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00293}00293     \textcolor{keyword}{public} \textcolor{keywordtype}{string} name; \textcolor{comment}{// Название действия}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00294}00294     \textcolor{keyword}{public} \textcolor{keywordtype}{string} key; \textcolor{comment}{// Ключ действия}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00295}00295     \textcolor{keyword}{public} \textcolor{keywordtype}{string} category; \textcolor{comment}{// Категория действия}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00302}\mbox{\hyperlink{classKeybind_a4984c6db9a5f4fa1fcb638bc0f7c1de1}{00302}} \textcolor{comment}{}    \textcolor{keyword}{public} \mbox{\hyperlink{classKeybind_a4984c6db9a5f4fa1fcb638bc0f7c1de1}{Keybind}}(\textcolor{keywordtype}{string} name, \textcolor{keywordtype}{string} key, \textcolor{keywordtype}{string} category)}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00303}00303     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00304}00304         this.name = name;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00305}00305         this.key = key;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00306}00306         this.category = category;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00307}00307     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00308}00308 \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00312}\mbox{\hyperlink{classSetting}{00312}} \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{classSetting}{Setting}}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00313}00313 \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00314}00314     \textcolor{keyword}{public} \textcolor{keywordtype}{string} name; \textcolor{comment}{// Название настройки}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00315}00315     \textcolor{keyword}{public} \textcolor{keywordtype}{string} value; \textcolor{comment}{// Значение}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00321}\mbox{\hyperlink{classSetting_abe31a59d4270b704772cc8670891e246}{00321}} \textcolor{comment}{}    \textcolor{keyword}{public} \mbox{\hyperlink{classSetting_abe31a59d4270b704772cc8670891e246}{Setting}}(\textcolor{keywordtype}{string} name, \textcolor{keywordtype}{string} value)}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00322}00322     \{}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00323}00323         this.name = name;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00324}00324         this.value = value;}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00325}00325     \}}
\DoxyCodeLine{\Hypertarget{DataBase_8cs_source_l00326}00326 \}}

\end{DoxyCode}
